(this["webpackJsonpcountries-app"]=this["webpackJsonpcountries-app"]||[]).push([[0],{16:function(e,t,a){e.exports={container:"Card_container__2ZW9H",card:"Card_card__b7d4V","card-body":"Card_card-body__2qwfP","card-text":"Card_card-text__RL8SR",table:"Card_table__3KB70",button:"Card_button__1pitI"}},17:function(e,t,a){e.exports={search:"SearchInput_search__1R9c8",searchTerm:"SearchInput_searchTerm__1vRYr",searchButton:"SearchInput_searchButton__xLfFC"}},2:function(e,t,a){e.exports={"responsive-table":"CountryList_responsive-table__3nVF2","table-header":"CountryList_table-header__3dO7c","table-row":"CountryList_table-row__Frehc","col-1":"CountryList_col-1__M6gQ8","col-2":"CountryList_col-2__1V8ih","col-3":"CountryList_col-3__2Hm4T","col-4":"CountryList_col-4__3yONx",container:"CountryList_container__2mVXX",col:"CountryList_col__kRldU"}},25:function(e,t,a){e.exports={content:"Loader_content__23ZcP",loading:"Loader_loading__2RtHX",text:"Loader_text__3VDFL",loading2:"Loader_loading2__33dZi"}},26:function(e,t,a){e.exports={pagination:"Pagination_pagination__2gipB",active:"Pagination_active__IdCWx"}},40:function(e,t,a){e.exports={topnav:"Toolbar_topnav__3aPD9",active:"Toolbar_active__3zl_m"}},44:function(e,t,a){e.exports={"select-css":"Dropdown_select-css__1eS9A"}},45:function(e,t,a){e.exports=a(83)},50:function(e,t,a){},51:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),c=a.n(o),l=a(14),i=(a(50),a(1)),s=(a(51),a(9)),u=a(10),p=a(12),d=a(11),h=a(40),m=a.n(h),g=function(e){return r.a.createElement("div",{className:m.a.topnav},r.a.createElement(l.b,{className:"active",to:"/"},"Country Finder"))},f=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement("main",{style:{height:"100%"}},this.props.children))}}]),a}(r.a.Component),y=a(24),v=a(5),C=a.n(v),E=a(43),_=a.n(E).a.create({baseURL:"https://restcountries.eu/rest/v2"}),b=a(2),S=a.n(b),N=function(e){var t=e.countries.map((function(t,a){return r.a.createElement("li",{className:S.a["table-row"],key:t.alpha3Code,onClick:function(){return e.onCountryClickHandler(a)}},r.a.createElement("div",{className:[S.a.col,S.a["col-1"]].join(" "),"data-label":"Flag"},r.a.createElement("img",{src:t.flag,alt:"Country's flag",width:"45px"})),r.a.createElement("div",{className:[S.a.col,S.a["col-2"]].join(" "),"data-label":"Country Name"},t.name),r.a.createElement("div",{className:[S.a.col,S.a["col-3"]].join(" "),"data-label":"Capital"},t.capital?t.capital:"-"),r.a.createElement("div",{className:[S.a.col,S.a["col-4"]].join(" "),"data-label":"Region"},t.region))}));return r.a.createElement("div",{className:S.a.container,style:{margin:"auto"}},r.a.createElement("ul",{className:S.a["responsive-table"]},r.a.createElement("li",{className:S.a["table-header"]},r.a.createElement("div",{className:[S.a.col,S.a["col-1"]].join(" ")},"Flag"),r.a.createElement("div",{className:[S.a.col,S.a["col-2"]].join(" ")},"Country Name"),r.a.createElement("div",{className:[S.a.col,S.a["col-3"]].join(" ")},"Capital"),r.a.createElement("div",{className:[S.a.col,S.a["col-4"]].join(" ")},"Region")),t))},P=a(17),k=a.n(P),j=function(e){return r.a.createElement("div",{className:k.a.search},r.a.createElement("input",{type:"text",className:k.a.searchTerm,placeholder:"Which country are you looking for?",value:e.q,onChange:function(t){return e.onChangeQueryHandler(t.target.value)},onKeyPress:e.onKeyPressedHandler}),r.a.createElement("button",{type:"submit",className:k.a.searchButton,onClick:e.onSearchHandler},r.a.createElement("i",{className:"fa fa-search"})))},H=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={q:""},e.onChangeQueryHandler=function(t){e.setState({q:t})},e.onSearchHandler=function(){var t=C.a.parse(e.props.location.search,{ignoreQueryPrefix:!0}).region;t?e.props.history.push("/countries?q=".concat(e.state.q,"&region=").concat(t)):e.props.history.push("/countries?q=".concat(e.state.q))},e.onKeyPressedHandler=function(t){"Enter"===t.key&&e.onSearchHandler()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=C.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).q;e&&this.setState({q:e})}},{key:"render",value:function(){return r.a.createElement(j,{onChangeQueryHandler:this.onChangeQueryHandler,onSearchHandler:this.onSearchHandler,onKeyPressedHandler:this.onKeyPressedHandler,q:this.state.q})}}]),a}(r.a.Component),x=a(25),O=a.n(x),q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:O.a.content},r.a.createElement("div",{className:O.a.loading},r.a.createElement("p",null,"loading"),r.a.createElement("span",null))))},R=a(44),D=a.n(R),w=function(e){var t=[];e.options&&(t=e.options.map((function(e,t){return e?r.a.createElement("option",{key:t+1},e):null})));var a=r.a.createElement("option",{key:0},"All");return t.unshift(a),r.a.createElement("div",null,r.a.createElement("label",null,"Select Region"),r.a.createElement("select",{className:D.a["select-css"],style:{marginLeft:"20px"},onChange:function(t){return e.onSelectRegionHandler(t.target.value)},value:e.selectedRegion||""},t))},L=a(26),Q=a.n(L),B=function(e){var t=[];return function(){for(var a=function(a){var n=r.a.createElement("button",{key:a+1,className:e.pageSelected===a+1?Q.a.active:null,onClick:function(){return e.changePageSelectedHandler(a+1)}},a+1);t.push(n)},n=0;n<e.numPages;n++)a(n)}(),r.a.createElement("div",{className:Q.a.pagination},r.a.createElement("button",{onClick:function(){return e.changePageSelectedHandler(e.pageSelected-1)}},"\xab"),t,r.a.createElement("button",{onClick:function(){return e.changePageSelectedHandler(e.pageSelected+1)}},"\xbb"))},A=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={pageSize:50,pageSelected:1,numPages:5},e.setNumPages=function(){var t=Math.ceil(Number(e.props.totalResults)/Number(e.props.pageSize));e.state.numPages!==t&&e.setState({numPages:t})},e.updatePageSelected=function(){var t=Number(C.a.parse(e.props.location.search,{ignoreQueryPrefix:!0}).page);t&&e.state.pageSelected!==t&&e.setState({pageSelected:t})},e.changePageSelectedHandler=function(t){t>e.state.numPages?t=e.state.numPages:t<1&&(t=1),e.setState({pageSelected:t});var a=C.a.parse(e.props.location.search,{ignoreQueryPrefix:!0}).q,n=C.a.parse(e.props.location.search,{ignoreQueryPrefix:!0}).region;a&&n?e.props.history.push("/countries?q=".concat(a,"&region=").concat(n,"&page=").concat(t)):a?e.props.history.push("/countries?q=".concat(a,"&page=").concat(t)):n?e.props.history.push("/countries?region=".concat(n,"&page=").concat(t)):e.props.history.push("/countries?page=".concat(t))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.updatePageSelected(),this.setNumPages()}},{key:"componentDidUpdate",value:function(){this.updatePageSelected(),this.setNumPages()}},{key:"render",value:function(){return r.a.createElement(B,{changePageSelectedHandler:this.changePageSelectedHandler,pageSelected:this.state.pageSelected,numPages:this.state.numPages})}}]),a}(r.a.Component),F=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={q:"",countries:[],displayedCountries:[],selectedRegion:null,loading:!1,pageSize:50,pageSelected:1},e.getCountries=function(t,a){e.setState({loading:!0}),_.get("/all?fields=name;capital;flag;region;alpha3Code").then((function(n){e.setState({countries:n.data,loading:!1}),e.filterCountries(t,a)})).catch((function(t){console.log(t),e.setState({loading:!1})}))},e.filterCountries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.state.countries;t&&a?n=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())&&e.region===a})):t?n=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):a&&(n=n.filter((function(e){return e.region===a}))),e.setState({displayedCountries:n})},e.onCountryClickHandler=function(t){var a=e.state.displayedCountries[t].alpha3Code,n=e.state.q,r=e.state.selectedRegion;n&&r?e.props.history.push("/countries/".concat(a,"?q=").concat(n,"&region=").concat(r)):n?e.props.history.push("/countries/".concat(a,"?q=").concat(n)):r?e.props.history.push("/countries/".concat(a,"?region=").concat(r)):e.props.history.push("/countries/".concat(a))},e.getDropdownOptions=function(){return e.state.countries.map((function(e){return e.region})).filter((function(e,t,a){return a.indexOf(e)===t}))},e.onSelectRegionHandler=function(t){var a=e.state.q;a&&t?e.props.history.push("/countries?q=".concat(a,"&region=").concat(t)):t&&e.props.history.push("/countries?region=".concat(t))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=C.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).q,t=C.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).region,a=Number(C.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).page);"All"===t&&(t=null),e&&this.setState({q:e}),t&&this.setState({selectedRegion:t}),a&&this.setState({pageSelected:a}),this.getCountries(e,t)}},{key:"componentDidUpdate",value:function(){var e=C.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).q,t=C.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).region,a=Number(C.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).page);"All"===t&&(t=null),this.state.q!==e&&this.state.selectedRegion!==t?(this.setState({q:e,selectedRegion:t,pageSelected:1}),this.filterCountries(e,t)):this.state.q!==e?(this.setState({q:e,pageSelected:1}),this.filterCountries(e,t)):this.state.selectedRegion!==t&&(this.setState({selectedRegion:t,pageSelected:1}),this.filterCountries(e,t)),a&&this.state.pageSelected!==a&&this.setState({pageSelected:a})}},{key:"render",value:function(){var e=this.getDropdownOptions();return r.a.createElement("div",{className:"container"},r.a.createElement(H,this.props),r.a.createElement(w,{options:e,selectedRegion:this.state.selectedRegion,onSelectRegionHandler:this.onSelectRegionHandler}),this.state.loading?r.a.createElement(q,null):0===this.state.displayedCountries.length?r.a.createElement("div",{style:{marginTop:"150px",color:"red"}},"No Results Found"):r.a.createElement(N,{countries:this.state.displayedCountries.slice((this.state.pageSelected-1)*this.state.pageSize,this.state.pageSelected*this.state.pageSize),onCountryClickHandler:this.onCountryClickHandler}),this.state.displayedCountries.length>50?r.a.createElement(A,Object.assign({},this.props,{totalResults:this.state.displayedCountries.length,pageSize:this.state.pageSize})):null)}}]),a}(r.a.Component),z=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(i.a,{to:"/countries"})}}]),a}(r.a.Component),M=a(16),T=a.n(M),I=function(e){return r.a.createElement("div",{className:T.a.container},r.a.createElement("div",{className:T.a.card},r.a.createElement("img",{src:e.countryDetails.flag,alt:"Country's Flag"}),r.a.createElement("div",{className:T.a["card-body"]},r.a.createElement("div",{className:T.a["card-text"]},r.a.createElement("h3",null,e.countryDetails.name),r.a.createElement("table",{className:T.a.table},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Native Name"),r.a.createElement("td",null,e.countryDetails.nativeName)),r.a.createElement("tr",null,r.a.createElement("td",null,"Area"),r.a.createElement("td",null,e.countryDetails.area)),r.a.createElement("tr",null,r.a.createElement("td",null,"Capital"),r.a.createElement("td",null,e.countryDetails.capital)),r.a.createElement("tr",null,r.a.createElement("td",null,"Population"),r.a.createElement("td",null,e.countryDetails.population)),r.a.createElement("tr",null,r.a.createElement("td",null,"Region"),r.a.createElement("td",null,e.countryDetails.region)),r.a.createElement("tr",null,r.a.createElement("td",null,"Borders:"),r.a.createElement("td",null," ",e.countryDetails.borders.map((function(t,a){return r.a.createElement("button",{key:a,className:T.a.button,onClick:function(){return e.onBorderCountryClickHandler(t)}},t)}))))))))))},K=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={countryCode:"",countryDetails:null,loading:!0},e.onBorderCountryClickHandler=function(t){e.props.history.push("/countries/".concat(t))},e.getCountryDetails=function(t){e.setState({loading:!0}),_.get("/alpha/".concat(t)).then((function(t){e.setState({countryDetails:t.data,loading:!1})})).catch((function(t){console.log(t),e.setState({loading:!1})}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.split("/")[2];this.setState({countryCode:e}),this.getCountryDetails(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.location.pathname.split("/")[2];e!==this.state.countryCode&&(this.setState({countryCode:e}),this.getCountryDetails(e))}},{key:"render",value:function(){return this.state.loading?r.a.createElement(q,null):r.a.createElement(I,{countryDetails:this.state.countryDetails,onBorderCountryClickHandler:this.onBorderCountryClickHandler})}}]),a}(r.a.Component),U=function(e){return Object(y.b)(e,{stiffness:174,damping:24})},V={atEnter:{offset:100},atLeave:{offset:U(-100)},atActive:{offset:U(0)}},W=r.a.createElement(y.a,Object.assign({},V,{mapStyles:function(e){return{transform:"translateX(".concat(e.offset,"%)")}},className:"switch-wrapper"}),r.a.createElement(i.b,{path:"/countries",exact:!0,component:F}),r.a.createElement(i.b,{path:"/countries/:id",component:K}),r.a.createElement(i.b,{path:"/",component:z}));var X=Object(i.h)((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null,W))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.d55c7815.chunk.js.map